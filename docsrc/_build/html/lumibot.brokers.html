<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>lumibot.brokers package &mdash; lumibot  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lumibot.data_sources package" href="lumibot.data_sources.html" />
    <link rel="prev" title="lumibot.backtesting package" href="lumibot.backtesting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> lumibot
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">lumibot</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lumibot.html">lumibot package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="lumibot.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="lumibot.backtesting.html">lumibot.backtesting package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">lumibot.brokers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="lumibot.data_sources.html">lumibot.data_sources package</a></li>
<li class="toctree-l4"><a class="reference internal" href="lumibot.entities.html">lumibot.entities package</a></li>
<li class="toctree-l4"><a class="reference internal" href="lumibot.strategies.html">lumibot.strategies package</a></li>
<li class="toctree-l4"><a class="reference internal" href="lumibot.tests.html">lumibot.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="lumibot.tools.html">lumibot.tools package</a></li>
<li class="toctree-l4"><a class="reference internal" href="lumibot.traders.html">lumibot.traders package</a></li>
<li class="toctree-l4"><a class="reference internal" href="lumibot.trading_builtins.html">lumibot.trading_builtins package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lumibot.html#module-lumibot">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">lumibot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">lumibot</a> &raquo;</li>
          <li><a href="lumibot.html">lumibot package</a> &raquo;</li>
      <li>lumibot.brokers package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/lumibot.brokers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="lumibot-brokers-package">
<h1>lumibot.brokers package<a class="headerlink" href="#lumibot-brokers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lumibot.brokers.alpaca">
<span id="lumibot-brokers-alpaca-module"></span><h2>lumibot.brokers.alpaca module<a class="headerlink" href="#module-lumibot.brokers.alpaca" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lumibot.brokers.alpaca.Alpaca">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lumibot.brokers.alpaca.</span></code><code class="sig-name descname"><span class="pre">Alpaca</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connect_stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.alpaca.Alpaca" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="lumibot.data_sources.html#lumibot.data_sources.alpaca_data.AlpacaData" title="lumibot.data_sources.alpaca_data.AlpacaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">lumibot.data_sources.alpaca_data.AlpacaData</span></code></a>, <a class="reference internal" href="#lumibot.brokers.broker.Broker" title="lumibot.brokers.broker.Broker"><code class="xref py py-class docutils literal notranslate"><span class="pre">lumibot.brokers.broker.Broker</span></code></a></p>
<p>Inherit AlpacaData first and all the price market
methods than inherits broker</p>
<dl class="py method">
<dt id="lumibot.brokers.alpaca.Alpaca.cancel_order">
<code class="sig-name descname"><span class="pre">cancel_order</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.alpaca.Alpaca.cancel_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel an order</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.alpaca.Alpaca.get_time_to_close">
<code class="sig-name descname"><span class="pre">get_time_to_close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.alpaca.Alpaca.get_time_to_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the remaining time for the market to close in seconds</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.alpaca.Alpaca.get_time_to_open">
<code class="sig-name descname"><span class="pre">get_time_to_open</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.alpaca.Alpaca.get_time_to_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the remaining time for the market to open in seconds</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.alpaca.Alpaca.get_timestamp">
<code class="sig-name descname"><span class="pre">get_timestamp</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.alpaca.Alpaca.get_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>return current timestamp</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.alpaca.Alpaca.is_market_open">
<code class="sig-name descname"><span class="pre">is_market_open</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.alpaca.Alpaca.is_market_open" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if market is open else false</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lumibot.brokers.broker">
<span id="lumibot-brokers-broker-module"></span><h2>lumibot.brokers.broker module<a class="headerlink" href="#module-lumibot.brokers.broker" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lumibot.brokers.broker.Broker">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lumibot.brokers.broker.</span></code><code class="sig-name descname"><span class="pre">Broker</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connect_stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="lumibot.brokers.broker.Broker.CANCELED_ORDER">
<code class="sig-name descname"><span class="pre">CANCELED_ORDER</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'canceled'</span></em><a class="headerlink" href="#lumibot.brokers.broker.Broker.CANCELED_ORDER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lumibot.brokers.broker.Broker.FILLED_ORDER">
<code class="sig-name descname"><span class="pre">FILLED_ORDER</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'fill'</span></em><a class="headerlink" href="#lumibot.brokers.broker.Broker.FILLED_ORDER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lumibot.brokers.broker.Broker.IS_BACKTESTING_BROKER">
<code class="sig-name descname"><span class="pre">IS_BACKTESTING_BROKER</span></code><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#lumibot.brokers.broker.Broker.IS_BACKTESTING_BROKER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lumibot.brokers.broker.Broker.NEW_ORDER">
<code class="sig-name descname"><span class="pre">NEW_ORDER</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'new'</span></em><a class="headerlink" href="#lumibot.brokers.broker.Broker.NEW_ORDER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lumibot.brokers.broker.Broker.PARTIALLY_FILLED_ORDER">
<code class="sig-name descname"><span class="pre">PARTIALLY_FILLED_ORDER</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'partial_fill'</span></em><a class="headerlink" href="#lumibot.brokers.broker.Broker.PARTIALLY_FILLED_ORDER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.cancel_open_orders">
<code class="sig-name descname"><span class="pre">cancel_open_orders</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.cancel_open_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>cancel all open orders for a given strategy</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.cancel_order">
<code class="sig-name descname"><span class="pre">cancel_order</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.cancel_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel an order</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.cancel_orders">
<code class="sig-name descname"><span class="pre">cancel_orders</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orders</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.cancel_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>cancel orders</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.export_trade_events_to_csv">
<code class="sig-name descname"><span class="pre">export_trade_events_to_csv</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.export_trade_events_to_csv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_asset_potential_total">
<code class="sig-name descname"><span class="pre">get_asset_potential_total</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_asset_potential_total" title="Permalink to this definition">¶</a></dt>
<dd><p>given a strategy and a asset, check the ongoing
position and the tracked order and returns the total
number of shares provided all orders went through</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_last_price">
<code class="sig-name descname"><span class="pre">get_last_price</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_last_price" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an asset asset and returns the last known price</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_last_prices">
<code class="sig-name descname"><span class="pre">get_last_prices</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">assets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_last_prices" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of assets and returns the last known prices</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_time_to_close">
<code class="sig-name descname"><span class="pre">get_time_to_close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_time_to_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the remaining time for the market to close in seconds</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_time_to_open">
<code class="sig-name descname"><span class="pre">get_time_to_open</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_time_to_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the remaining time for the market to open in seconds</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_tracked_assets">
<code class="sig-name descname"><span class="pre">get_tracked_assets</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_tracked_assets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of assets for positions
and open orders for a given strategy</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_tracked_order">
<code class="sig-name descname"><span class="pre">get_tracked_order</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_tracked_order" title="Permalink to this definition">¶</a></dt>
<dd><p>get a tracked order given an identifier</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_tracked_orders">
<code class="sig-name descname"><span class="pre">get_tracked_orders</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_tracked_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>get all tracked orders for a given strategy</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_tracked_position">
<code class="sig-name descname"><span class="pre">get_tracked_position</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_tracked_position" title="Permalink to this definition">¶</a></dt>
<dd><p>get a tracked position given an asset and
a strategy</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.get_tracked_positions">
<code class="sig-name descname"><span class="pre">get_tracked_positions</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.get_tracked_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>get all tracked positions for a given strategy</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.is_market_open">
<code class="sig-name descname"><span class="pre">is_market_open</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.is_market_open" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if market is open else false</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.sell_all">
<code class="sig-name descname"><span class="pre">sell_all</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cancel_open_orders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.sell_all" title="Permalink to this definition">¶</a></dt>
<dd><p>sell all positions</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.should_continue">
<code class="sig-name descname"><span class="pre">should_continue</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.should_continue" title="Permalink to this definition">¶</a></dt>
<dd><p>In production mode always returns True.
Needs to be overloaded for backtesting to
check if the limit timestamp was reached</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.sleep">
<code class="sig-name descname"><span class="pre">sleep</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sleeptime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>The broker custom method for sleeping.
Needs to be overloaded depending whether strategy is
running live or in backtesting mode</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.submit_order">
<code class="sig-name descname"><span class="pre">submit_order</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.submit_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit an order for an asset</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.submit_orders">
<code class="sig-name descname"><span class="pre">submit_orders</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orders</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.submit_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>submit orders</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.wait_for_order_execution">
<code class="sig-name descname"><span class="pre">wait_for_order_execution</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.wait_for_order_execution" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the order to execute/be canceled</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.wait_for_order_registration">
<code class="sig-name descname"><span class="pre">wait_for_order_registration</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.wait_for_order_registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the order to be registered by the broker</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.wait_for_orders_execution">
<code class="sig-name descname"><span class="pre">wait_for_orders_execution</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orders</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.wait_for_orders_execution" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the orders to execute/be canceled</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.wait_for_orders_registration">
<code class="sig-name descname"><span class="pre">wait_for_orders_registration</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orders</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.wait_for_orders_registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the orders to be registered by the broker</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.broker.Broker.wait_orders_clear">
<code class="sig-name descname"><span class="pre">wait_orders_clear</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_loop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.broker.Broker.wait_orders_clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lumibot.brokers.interactive_brokers">
<span id="lumibot-brokers-interactive-brokers-module"></span><h2>lumibot.brokers.interactive_brokers module<a class="headerlink" href="#module-lumibot.brokers.interactive_brokers" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lumibot.brokers.interactive_brokers.IBApp">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lumibot.brokers.interactive_brokers.</span></code><code class="sig-name descname"><span class="pre">IBApp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipaddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">portid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clientid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ib_broker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBApp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lumibot.brokers.interactive_brokers.IBWrapper" title="lumibot.brokers.interactive_brokers.IBWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">lumibot.brokers.interactive_brokers.IBWrapper</span></code></a>, <a class="reference internal" href="#lumibot.brokers.interactive_brokers.IBClient" title="lumibot.brokers.interactive_brokers.IBClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">lumibot.brokers.interactive_brokers.IBClient</span></code></a></p>
<dl class="py attribute">
<dt id="lumibot.brokers.interactive_brokers.IBApp.ORDERTYPE_MAPPING">
<code class="sig-name descname"><span class="pre">ORDERTYPE_MAPPING</span></code><em class="property"> <span class="pre">=</span> <span class="pre">{'limit':</span> <span class="pre">'LMT',</span> <span class="pre">'market':</span> <span class="pre">'MKT',</span> <span class="pre">'stop':</span> <span class="pre">'STP',</span> <span class="pre">'stop_limit':</span> <span class="pre">'STP</span> <span class="pre">LMT',</span> <span class="pre">'trailing_stop':</span> <span class="pre">'TRAIL'}</span></em><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBApp.ORDERTYPE_MAPPING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBApp.create_contract">
<code class="sig-name descname"><span class="pre">create_contract</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SMART'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'USD'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primaryExchange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ISLAND'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBApp.create_contract" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new contract objects.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBApp.create_order">
<code class="sig-name descname"><span class="pre">create_order</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBApp.create_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBApp.execute_order">
<code class="sig-name descname"><span class="pre">execute_order</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orders</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBApp.execute_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lumibot.brokers.interactive_brokers.IBClient">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lumibot.brokers.interactive_brokers.</span></code><code class="sig-name descname"><span class="pre">IBClient</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrapper</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ibapi.client.EClient</span></code></p>
<p>Sends data to IB</p>
<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.cancel_order">
<code class="sig-name descname"><span class="pre">cancel_order</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.cancel_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.cancel_realtime_bars">
<code class="sig-name descname"><span class="pre">cancel_realtime_bars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.cancel_realtime_bars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.get_account_summary">
<code class="sig-name descname"><span class="pre">get_account_summary</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.get_account_summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.get_contract_details">
<code class="sig-name descname"><span class="pre">get_contract_details</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.get_contract_details" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.get_historical_data">
<code class="sig-name descname"><span class="pre">get_historical_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1</span> <span class="pre">D'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_timestep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1</span> <span class="pre">day'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TRADES'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useRTH</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatDate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepUpToDate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chartOptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.get_historical_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.get_open_orders">
<code class="sig-name descname"><span class="pre">get_open_orders</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.get_open_orders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.get_positions">
<code class="sig-name descname"><span class="pre">get_positions</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.get_positions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.get_reqid">
<code class="sig-name descname"><span class="pre">get_reqid</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.get_reqid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.get_tick">
<code class="sig-name descname"><span class="pre">get_tick</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greek</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.get_tick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.get_timestamp">
<code class="sig-name descname"><span class="pre">get_timestamp</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.get_timestamp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.option_params">
<code class="sig-name descname"><span class="pre">option_params</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">underlyingConId</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.option_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBClient.start_realtime_bars">
<code class="sig-name descname"><span class="pre">start_realtime_bars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bar_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">what_to_show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TRADES'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useRTH</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_bars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBClient.start_realtime_bars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lumibot.brokers.interactive_brokers.</span></code><code class="sig-name descname"><span class="pre">IBWrapper</span></code><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ibapi.wrapper.EWrapper</span></code></p>
<p>Listens and collects data from IB.</p>
<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.accountSummary">
<code class="sig-name descname"><span class="pre">accountSummary</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.accountSummary" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the data from the TWS Account Window Summary tab in
response to reqAccountSummary().</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.accountSummaryEnd">
<code class="sig-name descname"><span class="pre">accountSummaryEnd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.accountSummaryEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called once all account summary data for a
given request are received.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.contractDetails">
<code class="sig-name descname"><span class="pre">contractDetails</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contractDetails</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.contractDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives the full contract’s definitions. This method will return all
contracts matching the requested via EEClientSocket::reqContractDetails.
For example, one can obtain the whole option chain with it.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.contractDetailsEnd">
<code class="sig-name descname"><span class="pre">contractDetailsEnd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.contractDetailsEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is called once all contract details for a given
request are received. This helps to define the end of an option
chain.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.currentTime">
<code class="sig-name descname"><span class="pre">currentTime</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">server_time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.currentTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Server’s current time. This method will receive IB server’s system
time resulting after the invokation of reqCurrentTime.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.error">
<code class="sig-name descname"><span class="pre">error</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errorCode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errorString</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.error" title="Permalink to this definition">¶</a></dt>
<dd><p>This event is called when there is an error with the
communication or when TWS wants to send a message to the client.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.execDetails">
<code class="sig-name descname"><span class="pre">execDetails</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contract</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.execDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>This event is fired when the reqExecutions() functions is
invoked, or when an order is filled.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.get_error">
<code class="sig-name descname"><span class="pre">get_error</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.get_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.historicalData">
<code class="sig-name descname"><span class="pre">historicalData</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bar</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.historicalData" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the requested historical data bars</p>
<p>reqId - the request’s identifier
date  - the bar’s date and time (either as a yyyymmss hh:mm:ssformatted</p>
<blockquote>
<div><p>string or as system time according to the request)</p>
</div></blockquote>
<p>open  - the bar’s open point
high  - the bar’s high point
low   - the bar’s low point
close - the bar’s closing point
volume - the bar’s traded volume if available
count - the number of trades during the bar’s timespan (only available</p>
<blockquote>
<div><p>for TRADES).</p>
</div></blockquote>
<p>WAP -   the bar’s Weighted Average Price
hasGaps  -indicates if the data has gaps or not.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.historicalDataEnd">
<code class="sig-name descname"><span class="pre">historicalDataEnd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.historicalDataEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the ending of the historical bars reception.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_accounts">
<code class="sig-name descname"><span class="pre">init_accounts</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_accounts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_contract_details">
<code class="sig-name descname"><span class="pre">init_contract_details</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_contract_details" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_error">
<code class="sig-name descname"><span class="pre">init_error</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_greek">
<code class="sig-name descname"><span class="pre">init_greek</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_greek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_historical">
<code class="sig-name descname"><span class="pre">init_historical</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_historical" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_new_orders">
<code class="sig-name descname"><span class="pre">init_new_orders</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_new_orders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_option_params">
<code class="sig-name descname"><span class="pre">init_option_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_option_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_order_updates">
<code class="sig-name descname"><span class="pre">init_order_updates</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_order_updates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_orders">
<code class="sig-name descname"><span class="pre">init_orders</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_orders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_positions">
<code class="sig-name descname"><span class="pre">init_positions</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_positions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_tick">
<code class="sig-name descname"><span class="pre">init_tick</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_tick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.init_time">
<code class="sig-name descname"><span class="pre">init_time</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.init_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.is_error">
<code class="sig-name descname"><span class="pre">is_error</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.is_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.nextOrderId">
<code class="sig-name descname"><span class="pre">nextOrderId</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.nextOrderId" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.nextValidId">
<code class="sig-name descname"><span class="pre">nextValidId</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orderId</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.nextValidId" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives next valid order id.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.openOrder">
<code class="sig-name descname"><span class="pre">openOrder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orderId</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contract</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">ibapi.contract.Contract</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">ibapi.order.Order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orderState</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">ibapi.order_state.OrderState</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.openOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is called to feed in open orders.</p>
<dl class="simple">
<dt>orderID: OrderId - The order ID assigned by TWS. Use to cancel or</dt><dd><p>update TWS order.</p>
</dd>
</dl>
<p>contract: Contract - The Contract class attributes describe the contract.
order: Order - The Order class gives the details of the open order.
orderState: OrderState - The orderState class includes attributes Used</p>
<blockquote>
<div><p>for both pre and post trade margin and commission data.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.openOrderEnd">
<code class="sig-name descname"><span class="pre">openOrderEnd</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.openOrderEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>This is called at the end of a given request for open orders.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.orderStatus">
<code class="sig-name descname"><span class="pre">orderStatus</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orderId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filled</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remaining</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avgFullPrice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parentId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lastFillPrice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clientId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whyHeld</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mktCapPrice</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.orderStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>This event is called whenever the status of an order changes. It is
also fired after reconnecting to TWS if the client has any open orders.</p>
<dl class="simple">
<dt>orderId: OrderId - The order ID that was specified previously in the</dt><dd><p>call to placeOrder()</p>
</dd>
<dt>status:str - The order status. Possible values include:</dt><dd><p>PendingSubmit - indicates that you have transmitted the order, but have not  yet received confirmation that it has been accepted by the order destination. NOTE: This order status is not sent by TWS and should be explicitly set by the API developer when an order is submitted.
PendingCancel - indicates that you have sent a request to cancel the order but have not yet received cancel confirmation from the order destination. At this point, your order is not confirmed canceled. You may still receive an execution while your cancellation request is pending. NOTE: This order status is not sent by TWS and should be explicitly set by the API developer when an order is canceled.
PreSubmitted - indicates that a simulated order type has been accepted by the IB system and that this order has yet to be elected. The order is held in the IB system until the election criteria are met. At that time the order is transmitted to the order destination as specified.
Submitted - indicates that your order has been accepted at the order destination and is working.
Cancelled - indicates that the balance of your order has been confirmed canceled by the IB system. This could occur unexpectedly when IB or the destination has rejected your order.
Filled - indicates that the order has been completely filled.
Inactive - indicates that the order has been accepted by the system (simulated orders) or an exchange (native orders) but that currently the order is inactive due to system, exchange or other issues.</p>
</dd>
<dt>filled:int - Specifies the number of shares that have been executed.</dt><dd><p>For more information about partial fills, see Order Status for Partial Fills.</p>
</dd>
</dl>
<p>remaining:int -   Specifies the number of shares still outstanding.
avgFillPrice:float - The average price of the shares that have been executed. This parameter is valid only if the filled parameter value is greater than zero. Otherwise, the price parameter will be zero.
permId:int -  The TWS id used to identify orders. Remains the same over TWS sessions.
parentId:int - The order ID of the parent order, used for bracket and auto trailing stop orders.
lastFilledPrice:float - The last price of the shares that have been executed. This parameter is valid only if the filled parameter value is greater than zero. Otherwise, the price parameter will be zero.
clientId:int - The ID of the client (or TWS) that placed the order. Note that TWS orders have a fixed clientId and orderId of 0 that distinguishes them from API orders.
whyHeld:str - This field is used to identify an order held when TWS is trying to locate shares for a short sell. The value used to indicate this is ‘locate’.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.position">
<code class="sig-name descname"><span class="pre">position</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contract</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avgCost</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.position" title="Permalink to this definition">¶</a></dt>
<dd><p>This event returns real-time positions for all accounts in
response to the reqPositions() method.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.positionEnd">
<code class="sig-name descname"><span class="pre">positionEnd</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.positionEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>This is called once all position data for a given request are
received and functions as an end marker for the position() data.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.realtimeBar">
<code class="sig-name descname"><span class="pre">realtimeBar</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">open_</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wap</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.realtimeBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the real time 5 seconds bars</p>
<p>reqId - the request’s identifier
bar.time  - start of bar in unix (or ‘epoch’) time
bar.endTime - for synthetic bars, the end time (requires TWS v964). Otherwise -1.
<a href="#id1"><span class="problematic" id="id2">bar.open_</span></a>  - the bar’s open value
bar.high  - the bar’s high value
bar.low   - the bar’s low value
bar.close - the bar’s closing value
bar.volume - the bar’s traded volume if available
bar.WAP   - the bar’s Weighted Average Price
bar.count - the number of trades during the bar’s timespan (only available</p>
<blockquote>
<div><p>for TRADES).</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.securityDefinitionOptionParameter">
<code class="sig-name descname"><span class="pre">securityDefinitionOptionParameter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">underlyingConId</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tradingClass</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiplier</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expirations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strikes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">set</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.securityDefinitionOptionParameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the option chain for an underlying on an exchange
specified in reqSecDefOptParams There will be multiple callbacks to
securityDefinitionOptionParameter if multiple exchanges are specified
in reqSecDefOptParams</p>
<p>reqId - ID of the request initiating the callback
underlyingConId - The conID of the underlying security
tradingClass -  the option trading class
multiplier -    the option multiplier
expirations - a list of the expiries for the options of this underlying</p>
<blockquote>
<div><p>on this exchange</p>
</div></blockquote>
<dl class="simple">
<dt>strikes - a list of the possible strikes for options of this underlying</dt><dd><p>on this exchange</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.securityDefinitionOptionParameterEnd">
<code class="sig-name descname"><span class="pre">securityDefinitionOptionParameterEnd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.securityDefinitionOptionParameterEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when all callbacks to securityDefinitionOptionParameter are
complete</p>
<p>reqId - the ID used in the call to securityDefinitionOptionParameter</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.tickOptionComputation">
<code class="sig-name descname"><span class="pre">tickOptionComputation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tickType</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tickAttrib</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">impliedVol</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optPrice</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvDividend</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vega</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">undPrice</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.tickOptionComputation" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is called when the market in an option or its
underlier moves. TWS’s option model volatilities, prices, and
deltas, along with the present value of dividends expected on that
options underlier are received.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.tickPrice">
<code class="sig-name descname"><span class="pre">tickPrice</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tickType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrib</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.tickPrice" title="Permalink to this definition">¶</a></dt>
<dd><p>Market data tick price callback. Handles all price related ticks.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.IBWrapper.tickSnapshotEnd">
<code class="sig-name descname"><span class="pre">tickSnapshotEnd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.IBWrapper.tickSnapshotEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>When requesting market data snapshots, this market will indicate the
snapshot reception is finished.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lumibot.brokers.interactive_brokers.</span></code><code class="sig-name descname"><span class="pre">InteractiveBrokers</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connect_stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="lumibot.data_sources.html#lumibot.data_sources.interactive_brokers_data.InteractiveBrokersData" title="lumibot.data_sources.interactive_brokers_data.InteractiveBrokersData"><code class="xref py py-class docutils literal notranslate"><span class="pre">lumibot.data_sources.interactive_brokers_data.InteractiveBrokersData</span></code></a>, <a class="reference internal" href="#lumibot.brokers.broker.Broker" title="lumibot.brokers.broker.Broker"><code class="xref py py-class docutils literal notranslate"><span class="pre">lumibot.brokers.broker.Broker</span></code></a></p>
<p>Inherit InteractiveBrokerData first and all the price market
methods than inherits broker</p>
<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.cancel_open_orders">
<code class="sig-name descname"><span class="pre">cancel_open_orders</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.cancel_open_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>cancel all the strategy open orders</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.cancel_order">
<code class="sig-name descname"><span class="pre">cancel_order</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.cancel_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel an order</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_account_summary">
<code class="sig-name descname"><span class="pre">get_account_summary</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_account_summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_chain">
<code class="sig-name descname"><span class="pre">get_chain</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chains</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SMART'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns option chain for a particular exchange.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_chains">
<code class="sig-name descname"><span class="pre">get_chains</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_chains" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns option chain.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_contract_details">
<code class="sig-name descname"><span class="pre">get_contract_details</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_contract_details" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_expiration">
<code class="sig-name descname"><span class="pre">get_expiration</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chains</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SMART'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_expiration" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns expirations and strikes high/low of target price.
Return type datetime.date()</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_multiplier">
<code class="sig-name descname"><span class="pre">get_multiplier</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chains</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SMART'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the multiplier</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_time_to_close">
<code class="sig-name descname"><span class="pre">get_time_to_close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_time_to_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the remaining time for the market to close in seconds</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_time_to_open">
<code class="sig-name descname"><span class="pre">get_time_to_open</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_time_to_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the remaining time for the market to open in seconds</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_timestamp">
<code class="sig-name descname"><span class="pre">get_timestamp</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>return current timestamp</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.get_tradable_assets">
<code class="sig-name descname"><span class="pre">get_tradable_assets</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">easy_to_borrow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.get_tradable_assets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of all tradable assets from the market</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.is_market_open">
<code class="sig-name descname"><span class="pre">is_market_open</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.is_market_open" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if market is open else false</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.load_positions">
<code class="sig-name descname"><span class="pre">load_positions</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.load_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Use to load any existing positions with the broker on start.</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.market_close_time">
<code class="sig-name descname"><span class="pre">market_close_time</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.market_close_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.market_hours">
<code class="sig-name descname"><span class="pre">market_hours</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NASDAQ'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.market_hours" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if market open or closed.
params:</p>
<blockquote>
<div><ul class="simple">
<li><p>market (str: default <cite>NASDAQ</cite>): which market to test.</p></li>
<li><p>close (bool: default <cite>True</cite>): Choose open or close to check.</p></li>
<li><p>next (bool: default <cite>False</cite>): Check current day or next day.</p></li>
<li><p>date (datetime.date, default <cite>None</cite>) Date to check, <cite>None</cite> for today.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.on_status_event">
<code class="sig-name descname"><span class="pre">on_status_event</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orderId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filled</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remaining</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avgFullPrice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parentId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lastFillPrice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clientId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whyHeld</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mktCapPrice</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.on_status_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Information received from IBWrapper.orderStatus(). This can sometimes fire
duplicates so a list must be kept for checking.</p>
<dl>
<dt>The following are possible for status:</dt><dd><ul class="simple">
<li><p>PendingSubmit</p></li>
<li><p>PendingCancel</p></li>
<li><p>PreSubmitted</p></li>
<li><p>Submitted</p></li>
<li><p>ApiCancelled</p></li>
<li><p>Cancelled</p></li>
<li><p>Filled</p></li>
<li><p>Inactive</p></li>
</ul>
<p>Filled is problematic. - Filled indicates that the order has been completely
filled. Market orders executions  will not always trigger a Filled status.
Therefore this must also be checked using ExecDetails</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.on_trade_event">
<code class="sig-name descname"><span class="pre">on_trade_event</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reqId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contract</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.on_trade_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.option_params">
<code class="sig-name descname"><span class="pre">option_params</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">underlyingConId</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.option_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.sell_all">
<code class="sig-name descname"><span class="pre">sell_all</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cancel_open_orders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.sell_all" title="Permalink to this definition">¶</a></dt>
<dd><p>sell all positions</p>
</dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.start_ib">
<code class="sig-name descname"><span class="pre">start_ib</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket_port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.start_ib" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lumibot.brokers.interactive_brokers.InteractiveBrokers.utc_to_local">
<code class="sig-name descname"><span class="pre">utc_to_local</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">utc_dt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lumibot.brokers.interactive_brokers.InteractiveBrokers.utc_to_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lumibot.brokers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lumibot.brokers" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="lumibot.backtesting.html" class="btn btn-neutral float-left" title="lumibot.backtesting package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lumibot.data_sources.html" class="btn btn-neutral float-right" title="lumibot.data_sources package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Lumiwealth.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>